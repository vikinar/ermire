{"ast":null,"code":"const pool = require('../../../lib/db');\n\nexport default (async (req, res) => {\n  try {\n    const desc = req.body;\n    const post = desc !== '' ? await pool.query(`INSERT INTO contact (description) VALUES($1)`, [desc]) : null;\n    const get = await pool.query(`SELECT * FROM contact`);\n    res.status(200).json(get.rows.map(item => {\n      console.log(JSON.parse(item.description));\n      JSON.parse(item.description).map(update => Object.assign(update, {\n        \"id\": item.todo_id\n      }));\n      console.log(item.description);\n      return item.description;\n    }));\n    res.status(200).json(desc);\n  } catch (e) {\n    console.error(e);\n    res.status(500).end();\n  }\n});","map":{"version":3,"sources":["C:/Users/afmed/Desktop/ermire/src/pages/api/order-form.js"],"names":["pool","require","req","res","desc","body","post","query","get","status","json","rows","map","item","console","log","JSON","parse","description","update","Object","assign","todo_id","e","error","end"],"mappings":"AAAA,MAAMA,IAAI,GAAGC,OAAO,CAAC,iBAAD,CAApB;;AAEA,gBAAe,OAAOC,GAAP,EAAYC,GAAZ,KAAoB;AAC/B,MAAI;AACA,UAAMC,IAAI,GAAGF,GAAG,CAACG,IAAjB;AACI,UAAMC,IAAI,GAAGF,IAAI,KAAK,EAAT,GAAc,MAAMJ,IAAI,CAACO,KAAL,CAAY,8CAAZ,EAA2D,CAACH,IAAD,CAA3D,CAApB,GAAyF,IAAtG;AACA,UAAMI,GAAG,GAAG,MAAMR,IAAI,CAACO,KAAL,CAAY,uBAAZ,CAAlB;AACAJ,IAAAA,GAAG,CAACM,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqBF,GAAG,CAACG,IAAJ,CAASC,GAAT,CAAaC,IAAI,IAAI;AACtCC,MAAAA,OAAO,CAACC,GAAR,CAAYC,IAAI,CAACC,KAAL,CAAWJ,IAAI,CAACK,WAAhB,CAAZ;AACAF,MAAAA,IAAI,CAACC,KAAL,CAAWJ,IAAI,CAACK,WAAhB,EAA6BN,GAA7B,CAAiCO,MAAM,IAAIC,MAAM,CAACC,MAAP,CAAcF,MAAd,EAAsB;AAAC,cAAMN,IAAI,CAACS;AAAZ,OAAtB,CAA3C;AACAR,MAAAA,OAAO,CAACC,GAAR,CAAYF,IAAI,CAACK,WAAjB;AACA,aAAOL,IAAI,CAACK,WAAZ;AACH,KALoB,CAArB;AAMJf,IAAAA,GAAG,CAACM,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqBN,IAArB;AACH,GAXD,CAWE,OAAOmB,CAAP,EAAU;AACRT,IAAAA,OAAO,CAACU,KAAR,CAAcD,CAAd;AACApB,IAAAA,GAAG,CAACM,MAAJ,CAAW,GAAX,EAAgBgB,GAAhB;AACH;AACJ,CAhBD","sourcesContent":["const pool = require('../../../lib/db');\r\n\r\nexport default async (req, res) => {\r\n    try {\r\n        const desc = req.body\r\n            const post = desc !== '' ? await pool.query(`INSERT INTO contact (description) VALUES($1)`, [desc]) : null;\r\n            const get = await pool.query(`SELECT * FROM contact`)\r\n            res.status(200).json(get.rows.map(item => {\r\n                console.log(JSON.parse(item.description))\r\n                JSON.parse(item.description).map(update => Object.assign(update, {\"id\": item.todo_id}))\r\n                console.log(item.description)\r\n                return item.description\r\n            }));\r\n        res.status(200).json(desc)\r\n    } catch (e) {\r\n        console.error(e);\r\n        res.status(500).end();\r\n    }\r\n};\r\n\r\n"]},"metadata":{},"sourceType":"module"}